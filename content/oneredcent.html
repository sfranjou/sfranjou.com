<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/ico" href="/img/oneredcent.ico"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oneredcent | Soul, Funk & Groove</title>
    <!-- Google Fonts for that Vintage Vibe -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Shrikhand&family=Syne:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/oneredcent.css">
</head>
<body>

    <header>
        <h1>One Red Cent</h1>
        <p style="font-size: 1.5rem; letter-spacing: 3px; font-weight: bold; margin-top: 0;">GROOVE • SOUL • FUNK</p>
    </header>

    <main class="container">

        <section id="band" class="text-center">
            <h2>The Band</h2>
            <div class="members-grid">
                <!-- Example Profiles -->
                <article class="member-card">
                    <div class="member-photo">
                        <img src="https://placehold.co/400x400/3E2723/F9F4EF?text=Singer" alt="Lead Singer">
                    </div>
                    <h3 class="member-name">Mariabelle Azemar</h3>
                    <div class="member-role">Lead Vocals</div>
                    <p>Bringing the house down with vocal acrobatics and soul-stirring melodies.</p>
                </article>
                <article class="member-card">
                    <div class="member-photo">
                        <img src="https://placehold.co/400x400/D84315/F9F4EF?text=Guitar" alt="Guitarist">
                    </div>
                    <h3 class="member-name">Sebastian Franjou</h3>
                    <div class="member-role">Guitar</div>
                    <p>Master of the wah-wah pedal and the syncopated rhythm.</p>
                </article>
                <article class="member-card">
                    <div class="member-photo">
                        <img src="https://placehold.co/400x400/006064/F9F4EF?text=Bass" alt="Bassist">
                    </div>
                    <h3 class="member-name">Erik Strand</h3>
                    <div class="member-role">Bass</div>
                    <p>Keeping it low, heavy, and undeniably groovy.</p>
                </article>
                 <article class="member-card">
                    <div class="member-photo">
                        <img src="https://placehold.co/400x400/F9A825/3E2723?text=Drums" alt="Drummer">
                    </div>
                    <h3 class="member-name">Alby Musaelian</h3>
                    <div class="member-role">Drums</div>
                    <p>The heartbeat of the band, precise and powerful.</p>
                </article>
                <article class="member-card">
                    <div class="member-photo">
                        <img src="https://placehold.co/400x400/F9A825/3E2723?text=Keyboards" alt="Keyboards">
                    </div>
                    <h3 class="member-name">Michael Joseph Peters</h3>
                    <div class="member-role">Keyboards</div>
                    <p>The heartbeat of the band, precise and powerful.</p>
                </article>
                <article class="member-card">
                    <div class="member-photo">
                        <img src="https://placehold.co/400x400/F9A825/3E2723?text=Alto Saxophone" alt="Alto Saxophone">
                    </div>
                    <h3 class="member-name">Andrew Li</h3>
                    <div class="member-role">Alto Saxophone</div>
                    <p>The heartbeat of the band, precise and powerful.</p>
                </article>
            </div>
        </section>

        <section id="concerts">
            <div class="text-center">
                <h2>Tour Dates</h2>
            </div>
            
            <div class="concerts-section">
                <!-- Dynamic Content Will Go Here -->
                
                <article id="next-gig-container" class="next-gig">
                     <p style="text-transform: uppercase; font-weight: bold; letter-spacing: 2px;">Next Live Performance</p>
                     <h3 id="next-gig-title">Loading...</h3>
                     <p id="next-gig-date" style="font-size: 1.5rem;">Check back soon!</p>
                     <p id="next-gig-location">Planet Earth</p>
                </article>

                <h3 style="font-family: var(--sub-header-font);">Upcoming Shows</h3>
                <ul class="gig-list" id="upcoming-gigs">
                    <li class="gig-item">Loading list...</li>
                </ul>

                <h3 style="font-family: var(--sub-header-font); margin-top: 2rem; color: #777;">Past Gigs</h3>
                <ul class="gig-list" id="past-gigs" style="opacity: 0.7;">
                    <li class="gig-item">Loading list...</li>
                </ul>
            </div>
        </section>

        <section id="media" class="text-center">
            <h2>Media & Vibes</h2>
            <div class="media-grid">
               <!-- Placeholder for Video 1 -->
               <div class="video-wrapper">
                    <!-- Example YouTube Placeholder -->
                   <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=placeholder" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
               </div>
               <!-- Placeholder for Video 2 -->
               <div class="video-wrapper">
                   <iframe width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ?si=placeholder" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
               </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 oneredcent. All Rights Reserved. Keep it funky.</p>
    </footer>

    <!-- Script for Concert Logic (Placeholder) -->
    <!-- PapaParse for CSV parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

    <script>
        const GIGS_SHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQM1FZ_1CDBMdL8jOOIrpHcQOaqag3lBE2o4yu5vLaDgGHE9btfRada2VJqMcqHyHaJe93qHOZ5uEsr/pub?gid=55127937&single=true&output=csv';

        function fetchGigs() {
            if (GIGS_SHEET_URL === 'PLACEHOLDER_GOOGLE_SHEETS_CSV_URL') {
                console.warn('Google Sheets URL is missing. Please update GIGS_SHEET_URL in the script.');
                // Fallback or just show nothing/loading
                document.getElementById('upcoming-gigs').innerHTML = '<li class="gig-item">Calendar configuration missing.</li>';
                document.getElementById('past-gigs').innerHTML = '<li class="gig-item">Calendar configuration missing.</li>';
                return;
            }

            Papa.parse(GIGS_SHEET_URL, {
                download: true,
                header: true,
                complete: function(results) {
                    processGigs(results.data);
                },
                error: function(err) {
                    console.error('Error fetching gigs:', err);
                    document.getElementById('upcoming-gigs').innerHTML = '<li class="gig-item">Error loading gigs.</li>';
                }
            });
        }

        function processGigs(data) {
            // Expected columns: Name, Venue, Address, Date, Show on website, Blurb, Link, Internal notes
            
            // Map raw data to our structure
            const gigs = data.map(row => {
                // Combine Venue and Address for location, handling missing pieces
                const locationParts = [row['Venue'], row['Address']].filter(part => part && part.trim() !== '');
                const location = locationParts.join(', ');

                return {
                    title: row['Name'],
                    location: location,
                    date: row['Date'],
                    link: row['Link'],
                    blurb: row['Blurb'],
                    // Data is already filtered for 'Show on website' by the sheet export itself per user req
                };
            }).filter(gig => gig.title && gig.date); // Basic validity check

            renderConcerts(gigs);
        }

        function renderConcerts(concerts) {
            const today = new Date();
            // Sort by date
            concerts.sort((a, b) => new Date(a.date) - new Date(b.date));

            const upcoming = concerts.filter(c => new Date(c.date) >= today);
            const past = concerts.filter(c => new Date(c.date) < today);

            // Render Next Gig
            const nextGig = upcoming[0];
            const nextGigContainer = document.getElementById('next-gig-container');
            
            if (nextGig) {
                nextGigContainer.style.display = 'block'; // Ensure it's visible if we previously hid it
                
                // Title with Link if available
                const titleEl = document.getElementById('next-gig-title');
                if (nextGig.link) {
                    titleEl.innerHTML = `<a href="${nextGig.link}" target="_blank" class="gig-link">${nextGig.title}</a>`;
                } else {
                    titleEl.textContent = nextGig.title;
                }
                
                const dateObj = new Date(nextGig.date);
                const dateStr = dateObj.toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                document.getElementById('next-gig-date').innerHTML = `<time datetime="${nextGig.date}">${dateStr}</time>`;
                document.getElementById('next-gig-location').textContent = nextGig.location;
                
                // Add Blurb for next gig if exists
                let blurbEl = document.getElementById('next-gig-blurb');
                if (!blurbEl) {
                    blurbEl = document.createElement('p');
                    blurbEl.id = 'next-gig-blurb';
                    blurbEl.className = 'next-gig-blurb';
                    document.getElementById('next-gig-location').after(blurbEl);
                }
                blurbEl.textContent = nextGig.blurb || '';

            } else {
                nextGigContainer.style.display = 'none';
            }

            // Render Lists
            const upcomingList = document.getElementById('upcoming-gigs');
            upcomingList.innerHTML = upcoming.slice(1).map(gig => createGigListItem(gig)).join('') || '<li class="gig-item">No more upcoming shows announced.</li>';

             const pastList = document.getElementById('past-gigs');
            pastList.innerHTML = past.reverse().map(gig => createGigListItem(gig)).join('') || '<li class="gig-item">No past shows found.</li>';
        }

        function createGigListItem(gig) {
            let content = `<span>${gig.title} @ ${gig.location}</span>`;
            
            // If there's a link, wrap the title/location part
            if (gig.link) {
                content = `<span><a href="${gig.link}" target="_blank" class="gig-item-link">${gig.title}</a> @ ${gig.location}</span>`;
            }

            const blurbHtml = gig.blurb ? `<div class="gig-item-blurb">${gig.blurb}</div>` : '';

            return `
                <li class="gig-item">
                    <div class="gig-header-row">
                        ${content}
                        <span class="gig-date"><time datetime="${gig.date}">${new Date(gig.date).toLocaleDateString()}</time></span>
                    </div>
                    ${blurbHtml}
                </li>
            `;
        }

        document.addEventListener('DOMContentLoaded', fetchGigs);
    </script>
</body>
</html>
