<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/ico" href="/img/oneredcent.ico"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oneredcent | Soul, Funk & Groove</title>
    <!-- Google Fonts for that Vintage Vibe -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Shrikhand&family=Syne:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/oneredcent.css">
</head>
<body>

    <header>
        <h1>One Red Cent</h1>
        <p style="font-size: 1.5rem; letter-spacing: 3px; font-weight: bold; margin-top: 0;">GROOVE • SOUL • FUNK</p>
    </header>

    <main class="container">

        

        <section id="concerts">
            <div class="text-center">
                <h2>Concerts</h2>
            </div>
            
            <div class="concerts-section">
                <!-- Dynamic Content Will Go Here -->
                
                <article id="next-gig-container" class="next-gig">
                     <p style="text-transform: uppercase; font-weight: bold; letter-spacing: 2px;">Next Live Performance</p>
                     <h3 id="next-gig-title">Loading...</h3>
                     <p id="next-gig-date" style="font-size: 1.5rem;">Check back soon!</p>
                     <p id="next-gig-location">Planet Earth</p>
                </article>

                <h3 style="font-family: var(--sub-header-font);">Upcoming Shows</h3>
                <ul class="gig-list" id="upcoming-gigs">
                    <li class="gig-item">Loading list...</li>
                </ul>

                <h3 style="font-family: var(--sub-header-font); margin-top: 2rem; color: #777;">Past Gigs</h3>
                <ul class="gig-list" id="past-gigs" style="opacity: 0.7;">
                    <li class="gig-item">Loading list...</li>
                </ul>
            </div>
        </section>

        <section id="media" class="text-center">
            <h2>Media</h2>
            <div class="media-grid">
                <!-- Red Room -->
                <article class="video-card">
                    <div class="video-wrapper"> 
                        <iframe title="Red Room - Hiatus Kayote" src="https://drive.google.com/file/d/1mAZhaMFOnjwVRe0xmeAwDFQoU6gLsdr8/preview" width="640" height="480"></iframe>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Red Room</h3>
                        <p class="video-subtitle">Hiatus Kaiyote</p>
                    </div>
                </article>

                <article class="video-card">
                    <div class="video-wrapper"> 
                        <iframe title="The two that shouldn't be - Mariabelle Azemar" src="https://drive.google.com/file/d/1KybRVlA2xfSIKrPE3aI1x8SI73VvH-8g/preview" width="640" height="480"></iframe>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">The Two That Shouldn't Be</h3>
                        <p class="video-subtitle">Mariabelle Azemar Original</p>
                    </div>
                </article>

                <article class="video-card">
                    <div class="video-wrapper">
                        <iframe title="I wish - Stevie Wonder" src="https://drive.google.com/file/d/1mo6O9GvdBEymrHAuadYEtQ4kltK9-s87/preview" width="640" height="480"></iframe>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">I Wish</h3>
                        <p class="video-subtitle">Stevie Wonder Cover</p>
                    </div>
                </article>

                <article class="video-card">
                    <div class="video-wrapper">
                        <iframe title="Valerie - Amy Winehouse" src="https://drive.google.com/file/d/1PS7nLFPsYHZRoIF61rKRYWi6C3C7FndA/preview" width="640" height="480"></iframe>
                    </div>
                    <div class="video-info">
                        <h3 class="video-title">Valerie (Acoustic)</h3>
                        <p class="video-subtitle">Amy Winehouse</p>
                    </div>
                </article>



            </div>
        </section>
            
        <section id="band" class="text-center">
            <h2>The Band</h2>
            
            <div class="personnel-credits">
                <div class="credit-row">
                    <span class="role">Lead Vocals</span>
                    <span class="dots"></span>
                    <span class="name"><a href="https://www.instagram.com/hoodlumshowers/" target="_blank">Mariabelle Azemar</a></span>
                </div>
                <div class="credit-row">
                    <span class="role">Guitar</span>
                    <span class="dots"></span>
                    <span class="name"><a href="https://www.instagram.com/sebastianlouisf/" target="_blank">Sebastian Franjou</a></span>
                </div>
                <div class="credit-row">
                    <span class="role">Bass</span>
                    <span class="dots"></span>
                    <span class="name"><a href="https://www.instagram.com/strandomatic/" target="_blank">Erik Strand</a></span>
                </div>
                <div class="credit-row">
                    <span class="role">Drums</span>
                    <span class="dots"></span>
                    <span class="name"><a target="_blank">Alby Musaelian</a></span>
                </div>
                <div class="credit-row">
                    <span class="role">Keyboards</span>
                    <span class="dots"></span>
                    <span class="name"><a href="https://www.instagram.com/probably____someone/" target="_blank">Michael Joseph Peters</a></span>
                </div>
                <div class="credit-row">
                    <span class="role">Alto Saxophone</span>
                    <span class="dots"></span>
                    <span class="name"><a href="https://www.instagram.com/a_li357/" target="_blank">Andrew Li</a></span>
                </div>
            </div>
        </section>
        <section id="contact" class="text-center">
            <h2>Get in Touch</h2>
            <div class="contact-container">
                <p>For booking or general inquiries</p>
                <div class="contact-links">
                    <a href="mailto:oneredcentmusic@gmail.com" class="contact-link email-link">
                        <span class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                        </span> 
                        oneredcentmusic@gmail.com
                    </a>
                    <a href="https://www.instagram.com/oneredcentmusic" target="_blank" class="contact-link insta-link">
                        <span class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                        </span> 
                        @oneredcentmusic
                    </a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 oneredcent. All Rights Reserved. Keep it funky.</p>
    </footer>

    <!-- Script for Concert Logic (Placeholder) -->
    <!-- PapaParse for CSV parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

    <script>
        const GIGS_SHEET_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQM1FZ_1CDBMdL8jOOIrpHcQOaqag3lBE2o4yu5vLaDgGHE9btfRada2VJqMcqHyHaJe93qHOZ5uEsr/pub?gid=55127937&single=true&output=csv';

        function fetchGigs() {
            if (GIGS_SHEET_URL === 'PLACEHOLDER_GOOGLE_SHEETS_CSV_URL') {
                console.warn('Google Sheets URL is missing. Please update GIGS_SHEET_URL in the script.');
                // Fallback or just show nothing/loading
                document.getElementById('upcoming-gigs').innerHTML = '<li class="gig-item">Calendar configuration missing.</li>';
                document.getElementById('past-gigs').innerHTML = '<li class="gig-item">Calendar configuration missing.</li>';
                return;
            }

            Papa.parse(GIGS_SHEET_URL, {
                download: true,
                header: true,
                complete: function(results) {
                    processGigs(results.data);
                },
                error: function(err) {
                    console.error('Error fetching gigs:', err);
                    document.getElementById('upcoming-gigs').innerHTML = '<li class="gig-item">Error loading gigs.</li>';
                }
            });
        }

        function processGigs(data) {
            // Expected columns: Name, Venue, Address, Date, Show on website, Blurb, Link, Internal notes
            
            // Map raw data to our structure
            const gigs = data.map(row => {
                // Combine Venue and Address for location, handling missing pieces
                const locationParts = [row['Venue'], row['Address']].filter(part => part && part.trim() !== '');
                const location = locationParts.join(', ');

                return {
                    title: row['Name'],
                    location: location,
                    date: row['Date'],
                    link: row['Link'],
                    blurb: row['Blurb'],
                    // Data is already filtered for 'Show on website' by the sheet export itself per user req
                };
            }).filter(gig => gig.title && gig.date); // Basic validity check

            renderConcerts(gigs);
        }

        function renderConcerts(concerts) {
            const today = new Date();
            // Sort by date
            concerts.sort((a, b) => new Date(a.date) - new Date(b.date));

            const upcoming = concerts.filter(c => new Date(c.date) >= today);
            const past = concerts.filter(c => new Date(c.date) < today);

            // Render Next Gig
            const nextGig = upcoming[0];
            const nextGigContainer = document.getElementById('next-gig-container');
            
            if (nextGig) {
                nextGigContainer.style.display = 'block'; // Ensure it's visible if we previously hid it
                
                // Title with Link if available
                const titleEl = document.getElementById('next-gig-title');
                if (nextGig.link) {
                    titleEl.innerHTML = `<a href="${nextGig.link}" target="_blank" class="gig-link">${nextGig.title}</a>`;
                } else {
                    titleEl.textContent = nextGig.title;
                }
                
                const dateObj = new Date(nextGig.date);
                const dateStr = dateObj.toLocaleDateString(undefined, { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
                document.getElementById('next-gig-date').innerHTML = `<time datetime="${nextGig.date}">${dateStr}</time>`;
                document.getElementById('next-gig-location').textContent = nextGig.location;
                
                // Add Blurb for next gig if exists
                let blurbEl = document.getElementById('next-gig-blurb');
                if (!blurbEl) {
                    blurbEl = document.createElement('p');
                    blurbEl.id = 'next-gig-blurb';
                    blurbEl.className = 'next-gig-blurb';
                    document.getElementById('next-gig-location').after(blurbEl);
                }
                blurbEl.textContent = nextGig.blurb || '';

            } else {
                nextGigContainer.style.display = 'none';
            }

            // Render Lists
            const upcomingList = document.getElementById('upcoming-gigs');
            upcomingList.innerHTML = upcoming.slice(1).map(gig => createGigListItem(gig)).join('') || '<li class="gig-item">No more upcoming shows announced.</li>';

             const pastList = document.getElementById('past-gigs');
            pastList.innerHTML = past.reverse().map(gig => createGigListItem(gig)).join('') || '<li class="gig-item">No past shows found.</li>';
        }

        function createGigListItem(gig) {
            let content = `<span>${gig.title} @ ${gig.location}</span>`;
            
            // If there's a link, wrap the title/location part
            if (gig.link) {
                content = `<span><a href="${gig.link}" target="_blank" class="gig-item-link">${gig.title}</a> @ ${gig.location}</span>`;
            }

            const blurbHtml = gig.blurb ? `<div class="gig-item-blurb">${gig.blurb}</div>` : '';

            return `
                <li class="gig-item">
                    <div class="gig-header-row">
                        ${content}
                        <span class="gig-date"><time datetime="${gig.date}">${new Date(gig.date).toLocaleDateString()}</time></span>
                    </div>
                    ${blurbHtml}
                </li>
            `;
        }

        document.addEventListener('DOMContentLoaded', fetchGigs);
    </script>
</body>
</html>
